!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/forms"),require("@angular/cdk/keycodes"),require("@angular/material/progress-spinner"),require("@angular/common")):"function"==typeof define&&define.amd?define("mat-select-filter",["exports","@angular/core","@angular/forms","@angular/cdk/keycodes","@angular/material/progress-spinner","@angular/common"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["mat-select-filter"]={},e.ng.core,e.ng.forms,e.ng.cdk.keycodes,e.ng.material.progressSpinner,e.ng.common)}(this,(function(e,r,t,n,o,s){"use strict";var a=function(){};a.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new a},token:a,providedIn:"root"}),a.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],a.ctorParameters=function(){return[]};var i=function(){function e(e){this.showSpinner=!0,this.noResultsMessage="No results",this.noResults=!1,this.localSpinner=!1,this.filteredReturn=new r.EventEmitter,this.filteredItems=[],this.searchForm=e.group({value:""})}return e.prototype.ngOnInit=function(){var e=this;this.searchFormValueChangesSubscription=this.searchForm.valueChanges.subscribe((function(r){e.showSpinner&&(e.localSpinner=!0),r.value?(null==e.displayMember?e.filteredItems=e.array.filter((function(e){return e.toLowerCase().includes(r.value.toLowerCase())})):e.hasGroup&&e.groupArrayName&&e.displayMember?e.filteredItems=e.array.map((function(t){var n=Object.assign({},t);return n[e.groupArrayName]=n[e.groupArrayName].filter((function(t){return t[e.displayMember].toLowerCase().includes(r.value.toLowerCase())})),n})).filter((function(r){return r[e.groupArrayName].length>0})):e.filteredItems=e.array.filter((function(t){return t[e.displayMember].toLowerCase().includes(r.value.toLowerCase())})),e.noResults=null==e.filteredItems||0===e.filteredItems.length):(e.filteredItems=e.array.slice(),e.noResults=!1),e.filteredReturn.emit(e.filteredItems),setTimeout((function(){e.showSpinner&&(e.localSpinner=!1)}),2e3)})),setTimeout((function(){e.input.nativeElement.focus()}),500),this.placeholder||(this.placeholder="Search...")},e.prototype.handleKeydown=function(e){(e.key&&1===e.key.length||e.keyCode>=n.A&&e.keyCode<=n.Z||e.keyCode>=n.ZERO&&e.keyCode<=n.NINE||e.keyCode===n.SPACE)&&e.stopPropagation()},e.prototype.ngOnDestroy=function(){this.filteredReturn.emit(this.array),this.searchFormValueChangesSubscription.unsubscribe()},e}();i.decorators=[{type:r.Component,args:[{selector:"mat-select-filter",template:'\n  <form [formGroup]="searchForm" class="mat-filter" [ngStyle]="{\'background-color\': color ? color : \'white\'}">\n  <div>\n  <input #input class="mat-filter-input" matInput placeholder="{{placeholder}}" formControlName="value" (keydown)="handleKeydown($event)">\n    <mat-spinner *ngIf="localSpinner" class="spinner" diameter="16"></mat-spinner>\n  </div>\n  <div *ngIf="noResults"\n     class="noResultsMessage">\n  {{noResultsMessage}}\n</div>\n</form>\n  ',styles:[".mat-filter{border-bottom:1px solid grey;border-radius:0;box-shadow:none;box-sizing:border-box;font-size:inherit;padding:16px;position:-webkit-sticky;position:sticky;top:0;z-index:100}.mat-filter-input{-moz-appearance:none;-webkit-appearance:none;appearance:none;background-color:unset;border:0;color:grey;outline:none;width:100%}.spinner{position:absolute;right:16px;top:calc(50% - 8px)}.noResultsMessage{font-family:Roboto,Helvetica Neue,sans-serif;font-size:16px;margin-top:10px}"]}]}],i.ctorParameters=function(){return[{type:t.FormBuilder}]},i.propDecorators={input:[{type:r.ViewChild,args:["input",{static:!0}]}],array:[{type:r.Input,args:["array"]}],placeholder:[{type:r.Input,args:["placeholder"]}],color:[{type:r.Input,args:["color"]}],displayMember:[{type:r.Input,args:["displayMember"]}],showSpinner:[{type:r.Input,args:["showSpinner"]}],noResultsMessage:[{type:r.Input,args:["noResultsMessage"]}],hasGroup:[{type:r.Input,args:["hasGroup"]}],groupArrayName:[{type:r.Input,args:["groupArrayName"]}],filteredReturn:[{type:r.Output}]};var l=function(){};l.decorators=[{type:r.NgModule,args:[{declarations:[i],imports:[s.CommonModule,t.FormsModule,t.ReactiveFormsModule,o.MatProgressSpinnerModule],exports:[i]}]}],e.MatSelectFilterComponent=i,e.MatSelectFilterModule=l,e.MatSelectFilterService=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=mat-select-filter.umd.min.js.map